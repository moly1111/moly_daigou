{% extends "admin/base.html" %}

{% block page_title %}创建用户{% endblock %}

{% block page_actions %}
<a href="{{ url_for('admin_users') }}" class="btn btn-secondary"><i class="bi bi-arrow-left"></i> 返回列表</a>
{% endblock %}

{% block content %}
<div class="row">
  <div class="col-lg-8">
    <div class="card shadow mb-4">
      <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">账户信息</h6>
      </div>
      <div class="card-body">
        <form method="POST">
          <div class="mb-3">
            <label class="form-label">邮箱 *</label>
            <input type="email" class="form-control" name="email" value="{{ form.email if form else '' }}" required>
          </div>
          <div class="mb-3">
            <label class="form-label">密码 *</label>
            <input type="password" class="form-control" name="password" minlength="6" required>
            <div class="form-text">无需邮箱验证，创建后用户可直接登录</div>
          </div>

          <h6 class="mt-4">收货地址（可选）</h6>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">收货人</label>
              <input class="form-control" name="name" value="{{ form.name if form else '' }}">
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">手机号</label>
              <input class="form-control" name="phone" value="{{ form.phone if form else '' }}">
            </div>
          </div>
          <div class="mb-3">
            <label class="form-label">地址</label>
            <textarea class="form-control" name="address_text" rows="3">{{ form.address_text if form else '' }}</textarea>
          </div>
          <div class="mb-3">
            <label class="form-label">邮编</label>
            <input class="form-control" name="postal_code" value="{{ form.postal_code if form else '' }}">
          </div>

          <div class="d-flex justify-content-between">
            <a href="{{ url_for('admin_users') }}" class="btn btn-secondary">取消</a>
            <button type="submit" class="btn btn-primary"><i class="bi bi-check-circle"></i> 创建</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="col-lg-4">
    <div class="card shadow">
      <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">说明</h6>
      </div>
      <div class="card-body">
        <ul class="text-muted small mb-0">
          <li>创建的用户无需邮箱验证，立即可用</li>
          <li>如填写完整地址信息，将为该用户同时创建收货地址</li>
          <li>后续可在用户编辑页修改信息或封禁/解封</li>
        </ul>
      </div>
    </div>
  </div>
</div>
{% endblock %}


